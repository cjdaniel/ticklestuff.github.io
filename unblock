// ==UserScript==
// @name        port webcam no ads
// @description Fix ad checks on Port Canaveral camera pages
// @match       http://portfever.com/*
// @match       http://portcanaveralwebcam.com/*
// @match       http://www.portcanaveralwebcam.com/*
// @grant       unsafeWindow
// @grant       GM_addStyle
// ==/UserScript==
// <body onbeforeunload="javascript:reset_webcam_list()" onload="javascript:loadCheck()">
// unsafeWindow.document.onload = function(){};

document.addEventListener ("readystatechange", FireWhenReady, true);

nukediv('e2');
nukediv('MTTWdiv');
nukediv('newsdiv');
nukediv('twitterbg');
nukediv('fblinkdiv');
nukediv('weatherdiv');
nukediv('plusonediv');
nukediv('promoboxdiv');
nukediv('adbannerdiv');
nukediv('bgbannerdiv');
nukediv('adskyleftdiv');
nukediv('bgskyleftdiv');
nukediv('adskyrightdiv');
nukediv('bgskyrightdiv');
nukediv('headbannerdiv');
nukediv('siteselectdiv');
nukediv('partnerad1div');
nukediv('adskyright2div');
nukediv('belowMTdiv');
nukediv('footerdiv');

var root   = document.getElementById('root');
if (root)  { root.style.width = 890; }
if (root)  { root.style.display = 'inline'; }

var body   = document.getElementsByTagName('body')[0];
if (body)  { body.removeAttribute("style"); }

var headbox   = document.getElementsByClassName('headbox')[0];
if (headbox)  { headbox.remove(); }

var hdiv   = document.getElementById('HDTVcamdiv');
if (hdiv)  { hdiv.style.position = 'static'; }
if (hdiv)  { hdiv.style.top = 0; }
if (hdiv)  { hdiv.style.left = 0; }

function nukediv ( divname ) {
    var divelement = document.getElementById(divname);
    if (divelement) { divelement.remove(); }
}

function FireWhenReady () {
    this.fired  = this.fired || false;
    if (    document.readyState != "uninitialized" &&  document.readyState != "loading" &&  ! this.fired) {
        this.fired = true;
        document.body.onload  = function () { console.log ("body onload intercepted."); };
    }
}
